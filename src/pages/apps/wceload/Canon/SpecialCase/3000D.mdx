---
layout: '@components/Layout/LayoutChangelogs.astro'
# layout: '../../../../components/Layout.astro'
title: 'Canon EOS 3000D / 4000D / Rebel T100 Developments'
tags: ['ah','yess']
description: |
    Canon EOS 3000D / 4000D / Rebel T100 Developments
    C'mon, this camera was since 2018 yet no ML yet???!!!
keywords: 'tech, fun, novelty, open source, gratis, free, MagicLantern, Canon'
author: 'JOELwindows7'
twitterAuthor: '@JOELwindows7'
date: 2022-11-11
pubDate: 2022-11-11
dateMod: 2022-11-11
dateExp: 9999-12-31
thumbnail : '/assets/img/perkedelbannerrender4KDCI.png'
thumbnailType : 'image/png'
thumbnailWidth : 4096
thumbnailHeight : 2160
thumbnailAlt : 'Perkedel banner'
thumbnailAudio: ''
thumbnailVideo: ''
type : 'article'
descriptionPrefix : 'DO NOT RATIO'
noIndex : false
noFollow : false
rating : ''
favIcon: '/favicon.ico'
favIconHD : '/Perkedel_Icon.png'
favIconHDType : 'image/png'
favIconHDAlt : 'Perkedel icon'
favIconHDWidth : 600
favIconHDHeight : 400
charSet : 'UTF-8'
language : 'en'
twitterSite : '@JOELwindows7'
twitterCard : 'summary_large_image' 
themeColor : '#0000aa'
ejectClarity : false
hideInfo : false
SauceChangelogURL: 'https://github.com/Perkedel/perkedel-astro/blob/main/src/pages/apps/wceload/Canon/SpecialCase/3000D.mdx'
SauceChangelogURLDirect: 'https://github.com/Perkedel/perkedel-astro/raw/main/src/pages/apps/wceload/Canon/SpecialCase/3000D.mdx'
# url: 'vv'
url: '3000D' # wtf? the URL is no longer automatic?!?!??!?
---
# Canon EOS 3000D / 4000D / Rebel T100 Developments
JOELwindows7: I have this camera. I gotta get this running!

<p class="warning">URL syntax bellow uses Markdown format (<code><span>[example_link](https://example.com)</span></code>) & won't open in new tab! <b>Be sure to always use Middle Click if you like to make sure staying here.</b></p>
## Info:
### Threads
- [EOS 4000D / 3000D / Rebel T100 Development ](https://www.magiclantern.fm/forum/index.php?topic=23369.0 ) I saw no development. I shall attempt!
- [EOS 4000D / 3000D / Rebel T100 Development All page ](https://www.magiclantern.fm/forum/index.php?topic=23369.0;all ) Oh yeah, once again, apply [this ROM Patch](https://www.magiclantern.fm/forum/index.php?topic=17969.msg172893#msg172893 )! It's even listed on that 4000D thread.
- [EOS 1300D / Kiss X80 / Rebel T6 Development ](https://www.magiclantern.fm/forum/index.php?topic=17969 ) We were told by `a1ex` himself to go follow here after that main 3000D thread.
- [Initiated Introduction at ML forum](https://www.magiclantern.fm/forum/index.php?topic=26712 )

### Steps:
- [Dump ROM](https://www.magiclantern.fm/forum/index.php?topic=16534.0 ). **Not yet!** (I have to wait for my younger sister finished her semester (around April-June 2023) first before I can risk my own camera! Maybe DM me for ROM file?? idk.., OR convinve me just ROM dumping `FIR` never bricks the camera.)
    - Does just running ROM Dumper `FIR` has potential to brick the camera? If 0% brick chance, then I can just do it now!
    - ~~I have no contact yet for you to give me the ROM at the moment. I shall reserve username, yeee..~~ Magic Lantern forum username = `JOELwindows7`
- [Prepare QEMU](https://foss.heptapod.net/magic-lantern/magic-lantern/-/blob/branch/qemu/contrib/qemu/README.rst ).
    - Seriously updated the Magic Lantern hg repository to `qemu` with `-C` argument. in `magic-lantern` directory, `hg update qemu -C`!
    - `./install.sh` with WSL
    - hangs at `Initialized empty Git repository in /mnt/w/kolmo_simple/Artistic_Setups/MagicLantern.fm/qemu-eos/qemu-2.5.0/.git/`. how long? is it hang? or is it processing?!?!??!?!
    - nvm, it goes again. Yes, it took long time.
    - Let the script compile QEMU as well.
    - damn! it errors again!
    - kay you know what, like said just bypass those `WError` with `./configure-eos --disable-werror` in the `qemu-eos/qemu-2.5.0` directory. keep in mind the `qemu-eos` repo is outside this `magic-lantern` directory!
    - try just do
    - **still error!** here last [`install.log`](/assets/txt/logs/attemp_ml_2022-11-16_22-53/install.log) & [`config.log`](/assets/txt/logs/attemp_ml_2022-11-16_22-53/config.log). Pls help what's wrong?!?!?!??!?!??!???!
    - VM trye faile VM hang
    - QEMU reticulatedpines not working. [issue](https://github.com/reticulatedpines/magiclantern_simplified/issues/76 )
    - Issue closed. but suggested new [repo instead](https://github.com/reticulatedpines/qemu-eos ). **Beware! Over 90K commits, be patient when cloning!**
    - Configure success! at first the configure scripts werrors. [log!](/assets/txt/attempt_ml_2022-11-19/qemu_bin_bash_m_error.log) Fortunately found this [answer](https://askubuntu.com/a/861053/64076 ). Yep, that's because the configure script line endings somehow are in DOS format. And So I installed that `dos2unix` package, & then `dos2unix ../qemu-eos/configure` file. Run again it works.
    - Make werror! [log!](/assets/txt/attempt_ml_2022-11-19/make_qemu-eos_fail.log) Idk what went wrong. I've checked the `script` folder there, it has all the stuffs including the ones it said it couldn't find, the the `git_submodule.h`. Oh yeah uh.. the `Makefile`, `scripts`. & `python` are.. symbolic link? shown in cyan.. yeh..
    - I think I've been typo this whole time. [log1](/assets/txt/attempt_ml_2022-11-21/somehow_gitmodule_notfound_exist.log) & [log2 (fixed finally)](/assets/txt/attempt_ml_2022-11-21/somehow_gitmodule_notfound_fixed.log) & [log continued](/assets/txt/attempt_ml_2022-11-21/somehow_continue_error.log)
    - I saw the `qemu-eos-build/script` folder is linked to that `qemu-eos/scripts` folder. Yes, if you `ls -l` a symlink, you can see where folder did it linked to. I did `ls -l scripts` and saw that.
    - Oh God, the same `bin/sh^M` error again. I believe we've got all of those file in DOS / Windows Line endings! lemme figure this out how to resolve all of those files & then each to be converted.
    - Also, Do not forget to add Executable permissions! it error `Permission denied` to especially **`sh` script without extention!**
    - Figured out! in that `qemu-eos/scripts` folder, you do this `for FILER in ./*; do chmod +x $FILER; dos2unix $FILER; done`. Basically query everything (`for`) right here, and for each (`for FILER`) in here (& possibly recursive to directories idk..), **add executable rights (`chmod +x $FILER`)** also **convert line endings to Unix ones (`dos2unix $FILER`)**. Yes, the `FILER` variable is the each file.
    - `make clean` should now works. Hopefully. 
    - After this, try again. `make -j12`. Remember, **My laptop (ASUS ROG GL503GE) has 12 thread** because on Intel, each core has 2 thread, and this `i7-8750H` is Hexa core. **Six times 2 threads a core equals 12 total threads (6 \* 2 = 12)**. so the `-j` number is `12`. Easy math (disclaimer, I still hate math). How many core you have, times two. that's your `-j` number. If you forgot this `-j` it's okay, though it will take extremely long, as you only used just that 1 thread. Now I wonder if somebody can `-j128` with Threadripper idk lmao!
    - somehow my internet failed, cannot clone some stuffs. [log](/assets/txt/attempt_ml_2022-11-21/somehow_internet_failed.log)
    - Internet available. try again!
    - failed! [log here](/assets/txt/attempt_ml_2022-11-21/somehow_missing_character.log) Somehow character did not seen properly.
    - [`dos2unix`-ify suggestion overruled](https://www.magiclantern.fm/forum/index.php?topic=20214.msg241007#msg241007 ) (or is it? says it's *inappropriate fix*). It edits the file & would risk messing further commits (compare & stuffs) to upstream. The Git will track those changed file & treat it as huge change, which will break comparison compatibilities in case other people made changes on other forks, idk.
    - I could not figure out what cause of this `CRLF` madness atm.
    - who `create_config` did messed up the `config_host.h`?!?!? [snippet](/assets/txt/logs/attempt_ml_2022-11-22/messed_config_host.log)
    - Update in repo `qemu-eos` available! `git stash -a` now to stash changes! Then `git pull`. Return to `qemu-eos-build`! [log](/assets/txt/logs/attempt_ml_2022-11-22/spetch.log). You can see what changed.
    - made sure `make clean`, `make -j12` again.
    - Different fail! [log](/assets/txt/logs/attempt_ml_2022-11-22/updated_make_fail_again.log)
    - I think I forgot to update that `magiclantern_simplified`. So yeah, let's update.
    - have `make clean` `qemu-eos-build`, try again. still failed. [log](/assets/txt/logs/attempt_ml_2022-11-22/still_not_that_working_either.log)
    - Dump the ROM now! (Pls wait! Waiting for my younger sister to complete her semester with Photography subject. I think about Feb to June 2023. If you can convince me that just running ROM Dumper `FIR` definitely do not brick my only camera, **I can do this now**.)
- Reattempt porting ML.
    - Prepared the ML source
    - Test compile anything.
    - FAILED! here last [`make zip`](/assets/txt/logs/attemp_ml_2022-11-16_22-53/make_zip.log) log!
    - [names_are_hard replied](https://www.magiclantern.fm/forum/index.php?topic=20214.msg240975#msg240975). Kay, you told me to change things in the `Makefile.top`, okay, hold on. let me [this](https://github.com/reticulatedpines/magiclantern_simplified/commit/4a6e5e666e52e56aaf3447f9d112b3fc791e38f3).. and then [that](https://github.com/reticulatedpines/magiclantern_simplified/commit/af10c16925912f864f4e218532dc9ac4e5af358f)..
    - Right, For QEMU, I gotta learn how to make configurator points to modern QEMU. well let's just try the ML compiler first. `make clean`! `make zip` again.
    - faile! `module_string` missing! here [`make zip`](/assets/txt/logs/attempt_ml_2022-11-19_16-37/make_zip_again.log) log again.
    - Oh wow, just as I go back to reticulatedpines' magic-lantern simplified everything works again. that's not the qemu. I test compiled the 100D version. here [`make zip` log](/assets/txt/logs/attempt_ml_2022-11-19_16-37/reticulatedpines_make_zip_local_100D.log). it even had the [zip file](/assets/zip/magiclantern-Nightly.2022Nov18.100D101.zip) on hand. Yes, clicking that downloads it. I think I should try the others. Note, that one I have no `Makefile.user` file there, just let it uses the `Makefile.user.default` entirely.
    - okay, just the 200D ones ironically does not work. [here `make zip` log](/assets/txt/logs/attempt_ml_2022-11-18_16-37/simplie_make_zip_again_again.log). Dude, what did make yours work? Think I should make issue [over there](https://github.com/reticulatedpines/magiclantern_simplified/issues)?
    - EOS M version works too! [download zip](/assets/zip/magiclantern-Nightly.2022Nov18.EOSM202.zip), see [`make zip` log](/assets/txt/logs/attempt_ml_2022-11-19_16-37/simplie_make_zip_EOS_M.log).
    - Issue closed, reticulatedpines no longer maintain QEMU on that Magic Lantern anymore, instead on the separate [repo here](https://github.com/reticulatedpines/qemu-eos ).
    - oh wait, [reticulatedpines == names_are_hard](https://www.magiclantern.fm/forum/index.php?topic=20214.msg240990#msg240990 )?!?!? **LMAO lol!** Oh okay, is that right? anyways..
    - he said that I happened to used that GCC 5, too old for this. Now, idk how am I supposed to prevent the `make` from choosing that wrong version? Okay, in names_are_hard / reticulatedpines ML, I did `Makefile.user`, only contains a line of `ARM_PATH=/usr`.
    - & for good measure, I move away those old gcc original ML repo downloaded. yeah just put those gcc directories into `hide` folder e.g.
    - my `rst2html --version` command outputs `rst2html (Docutils 0.17.1 [release], Python 3.10.6, on linux)`.
    - Try again 200D. Well it works. [here file](/assets/zip/magiclantern-Nightly.2022Nov19.200D101.zip ). and [log too](/assets/txt/logs/attempt_ml_2022-11-19/reticulatedpines_finallywork_200D.log ).
    - Now, let's see if QEMU ready. **Awaiting...............**
    - Recollect all stuffs from various repos! [stubs from ccritix](https://github.com/ccritix/magic-lantern/tree/branches/1300D/platform/4000D.100 ) & [petabyt's pieces on the 1300D branch](https://github.com/petabyt/magiclantern_simplified/tree/1300d/platform/1300D.120 )!.. yeah..
    - Try & attempt combining. **Always test in the QEMU!**


### Stuffs
- [ccritix's 3000D Platform folder](https://github.com/ccritix/magic-lantern/tree/branches/1300D/platform/4000D.100 ) Complete with Stubs. Lacks the Installation folder atm. OR try using libUSB method?
- [names_are_hard's how to QEMU in Magic Lantern Simplified](https://github.com/reticulatedpines/qemu-eos/tree/qemu-eos-v4.2.1/magiclantern )
- [`eos.c` in ccritix](https://github.com/ccritix/magic-lantern/blob/branches/1300D/contrib/qemu/eos/eos.c) Notice the `4000D` definition! Ctrl + F and take a look for `4000D` Flash ID & stuffs.
- [`eos.c` in names_are_hard](https://github.com/reticulatedpines/qemu-eos/blob/qemu-eos-v4.2.1/hw/eos/eos.c) No 4000D definition, but `1300D` definition! Ctrl + F that too, it's in **Enumeration**. I gotta bring this `4000D` in!

### End
by JOELwindows7  
Perkedel Technologies  
CC4.0-BY-SA
