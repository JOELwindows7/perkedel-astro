---
import MessageBoxTemplate from "@components/Messages/MessageBoxTemplate.astro";
import TebengeGuy from '@components/Icons/TebengeGuy.astro';
import TebengeBullet from '@components/Icons/TebengeBullet.astro';
import LFMSymbol from '@components/Icons/LFMSymbol.astro';
import { Icon, Sprite } from 'astro-icon';

export interface Props{
    detachedGenital?:boolean;
}

const{
    detachedGenital=false,
} = Astro.props.frontmatter || Astro.props as Props;
---
<hr/>
<details>
<summary>Upgrade to Full version (Show 69420), $0 / Free, Permanent!</summary>

<!-- <h2>Enter the FULL VERSION room, $0 & Permanent <b style="color:red;">&#xf901;</b></h2> -->
<h2>Enter the FULL VERSION room, $0 & Permanent <Icon style="color:red;" height="36px" name="gg:pill" /></h2>
    <MessageBoxTemplate severity={1} paragraphTitle={true} headingTitle="18+ Only" detailSummary="Only for biologically mature audicences">
        <p>Full version room also lists 69420 URLs! Please make sure your biological age is at & above your mature age!<br/>
            e.g. <i>Homo sapiens</i>, derivatives, & alike, are <b>18 years old & up</b>.<br/>
            We intentionally do not require user account so archivers can easily crawl into it. You're welcome.<br/>
            However, please have respect. You mental is very important.
        </p>
    </MessageBoxTemplate>
    <script is:inline>
        function showNSFWLinkPls(){
            let windowe = new tingle.modal({
                closeMethods: ['button', 'escape'],
                footer: true,
                onOpen: function() {
                    // console.log(`URL Info for:\n` + location.href + `\n\nPathname: ` + location.pathname + `\nOrigin: ` + location.origin + `\n`);
                    
                },
                closeLabel: "Close",
            });
            windowe.setContent(`
            <h2>⚠️ Are you sure?</h2>
                <p>
                    This will Show the NSFW Entry link.<br/>
                    You really must be <mark>18+</mark> in order to enter this!<br/>
                    <i>Choose your pill wisely!</i> Your mental readiness & mental wellbeing is matter!
                </p>
            `);
            windowe.addFooterBtn('YES', 'tingle-btn tingle-btn--danger', function() {
                // here goes some logic
                document.getElementById('daNSFWLinkLol').style.display = 'block';
                document.getElementById('chooseYourPillLol').style.display = 'none';

                // Genital Detached. only render when said yes
                // destroys crawlers. perfect for bad crawler like Meta's Instagram.
                if(document.getElementById('daNSFWLinkLol').innerHTML.trim() == "") {
                    document.getElementById('daNSFWLinkLol').innerHTML = "<a href='enterNSFW'>Enter</a>";
                }
                

                // https://github.com/apvarun/toastify-js
                // https://apvarun.github.io/toastify-js/#
                Toastify({
                    text: 'NSFW door link unlocked!',
                    class: "nsfwOpenedToast",
                    duration: 5000,
                    gravity: "bottom",
                    position: "left",
                    escapeMarkup: false,
                    close: true,
                    style: {
                        background: "linear-gradient(to right, #220022, #002222)",
                    },
                    onClick: function() {},
                }).showToast();

                windowe.close();
            });
            windowe.addFooterBtn('NO', 'tingle-btn tingle-btn--default tingle-btn--pull-right', function() {
                // here goes some logic
                document.getElementById('daNSFWLinkLol').style.display = 'none';
                document.getElementById('chooseYourPillLol').style.display = 'block';
                windowe.close();
            });
            windowe.open();
        }
    </script>
    <p id="chooseYourPillLol">
        <a title="Show Link" href="javascript:showNSFWLinkPls()">
            <Icon style="color:saddlebrown;" height="36px" name="ic:baseline-arrow-circle-right" />
            <Icon style="color:red;" height="36px" name="gg:pill" />
            <Icon style="color:gray;" height="36px" name="gg:pill" />
            <Icon style="color:saddlebrown;" height="36px" name="ic:baseline-arrow-circle-left" /></a>
    </p>
    {detachedGenital?
    <p id="daNSFWLinkLol" class="daNSFWLinkLol" style="display:none;"></p>
    <p id="genitalDetachedAlert" class="genitalDetachedAlert info">
        Archiver Notice: The <code>Enter</code> link is not included instead of hidden in this page until interaction.<br/>
        Therefore, your good crawler like archivers may not be able to detect this outlink.<br/>
        Please activate your archivers again once you have entered the gate & see if they do archive or already.<br/>
        Thancc, cool and good.<br/>
        <br/>
        Why do we do this: There has been cases of crawlers used to abuse & harrass our gamers right from a small or large companies 
        (anything but not limited to <code>Your account has been limited due to your web links that refers inappropriate urls</code> violations).<br/>
        We have decided that for the case of this App, we will make the enter link removed instead of just hidden, 
        until gamers activated the <code>Enter</code> door, in which then the link will be rewritten from the inline script onto the above paragraph tag.<br/>
        We apologize for this inconveniences. We wanted to make sure all gamers are safe from all abuses & harrasments done by said companies.
    </p>
    :
    <p id="daNSFWLinkLol" class="daNSFWLinkLol" style="display:none;"><a href="enterNSFW">Enter</a></p>
    }
    

</details>